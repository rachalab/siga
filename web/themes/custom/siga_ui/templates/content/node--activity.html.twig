<article class="activity-node">
  <header class="activity-header">

    {# Bloque de la sección izquierda: contiene la iniciativa y las fechas #}
    <div class="left-section">
      <div class="initiative"> {{ content.field_initiative }}</div>
      <div class="activity-date">
        {% set start_date = node.field_dates[0].value|date('U') %}
        {% set end_date = node.field_dates[0].end_value|date('U') %}
        
        {# Lógica para calcular y mostrar el rango de fechas #}
        {% set start_day = start_date|date('d') %}
        {% set end_day = end_date|date('d') %}
        {% set start_month = start_date|date('M')|upper %}
        {% set end_month = end_date|date('M')|upper %}
        {% set start_year = start_date|date('Y') %}
        {% set end_year = end_date|date('Y') %}

        <div class="date">
          {% if start_day == end_day and start_month == end_month and start_year == end_year %}
            {# Fecha única #}
            <span class="month">{{ start_month|t }}</span>
            <span class="day">{{ start_day }}</span>
            <span class="year">{{ start_year }}</span>
          {% elseif start_month == end_month and start_year == end_year %}
            {# Inicio y fin en el mismo mes #}
            <span class="month">{{ start_month|t }}</span>
            <span class="day">{{ start_day }}-{{ end_day }}</span>
            <span class="year">{{ start_year }}</span>
          {% elseif start_year == end_year %}
            {# Inicio y fin en diferentes meses pero mismo año #}
            <span class="month">{{ start_month }} - {{ end_month|t }}</span>
            <span class="day">{{ start_day }} {{ end_day }}</span>
            <span class="year">{{ start_year }}</span>
          {% else %}
            {# Inicio y fin en diferentes meses y años #}
            <span class="month">{{ start_month }} - {{ end_month }}</span>
            <span class="day">{{ start_day }} {{ end_day }}</span>
            <span class="year">{{ start_year }} - {{ end_year }}</span>
          {% endif %}
        </div>
      </div>
    </div>

    {# Bloque central: contiene el tipo de actividad, el título, la descripción y las organizaciones relacionadas #}
    <div class="content">
      <div class="breadcrumb">{{ content.field_type }}</div>
      <div class="description">{{ content.body }}</div>
    </div>

    {# Bloque derecho: muestra el estado de la actividad y la persona responsable #}
    <div class="right">
      <div class="status">{{ content.field_status }}</div>
      <div class="person">
        <div class="avatar">HM</div>
        <div>{{ content.field_asignee }}</div>
      </div>
    </div>

  </header>

  {# Detalles de la actividad: ubicación, instituciones, modalidad, productos e incidencia esperados #}
  <section class="activity-details">
    {% if content.field_place %}
      <div class="activity-location">
        <h2>Lugar</h2>
        <div class="activity-value">
          <p>{{ content.field_place }}</p>
        </div>
      </div>
    {% endif %}
    {% if content.field_organization %}
      <div class="activity-organization">
        <h2>Instituciones relacionadas</h2>
        <div class="activity-value">
          <p>{{ content.field_organization }}</p>
        </div>
      </div>
    {% endif %}
    {% if content.field_mode %}
      <div class="activity-mode">
        <h2>Modalidad</h2>
        <div class="activity-value">
          <p>{{ content.field_mode }}</p>
        </div>
      </div>
    {% endif %}
    {% if content.field_products %}
      <div class="activity-products">
        <h2>Productos, espacios compartidos o incidencia esperados</h2>
        <div class="activity-value">
          <p>{{ content.field_products }}</p>
        </div>
      </div>
    {% endif %}
  </section>
 {# Población meta de la actividad: datos relacionados con el público objetivo #}
  <section class="activity-population">
    {% if content.field_population %}
     <div class="activity-population-meta">
      <h2>Población Meta</h2>
      <div class="activity-value">
        {{ content.field_population }}
      </div>
       </div>
    {% endif %}
  </section>
  {# Informe de la actividad: muestra resultados y otros datos relevantes #}
  <section class="activity-report">
    {% if content.field_report %}
      <h2>Informe</h2>
      <div class="activity-results">
        {% if content.field_report %}
          <h3>Resultados</h3>
          <div class="activity-value">
            <p>{{ content.field_report }}</p>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </section>

</article>
